/*
 * Copyright (c) 2024, Psiphon Inc.
 * All rights reserved.
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 */


import { Group, Path, fitbox, rect } from "@shopify/react-native-skia";
import React from "react";
import {
    Easing,
    SharedValue,
    cancelAnimation,
    useAnimatedReaction,
    useDerivedValue,
    useSharedValue,
    withDelay,
    withRepeat,
    withSequence,
    withTiming,
} from "react-native-reanimated";

import { palette } from "@/src/styles";

export function Chains({
    size,
    sceneWidth,
    sceneHeight,
    currentView,
}: {
    size: number;
    sceneWidth: number;
    sceneHeight: number;
    currentView: SharedValue<number>;
}) {
    const chainOriginalWidth = 101;
    const chainOriginalHeight = 62;
    const chainDestWidth = size;
    const chainDestHeight =
        (chainDestWidth / chainOriginalWidth) * chainOriginalHeight;
    const chainResizeTransform = fitbox(
        "contain",
        rect(0, 0, chainOriginalWidth, chainOriginalHeight),
        rect(0, 0, chainDestWidth, chainDestHeight),
    );

    const breaker = useSharedValue(0);
    const opacity = useSharedValue(1);

    const notchOriginalWidth = 20;
    const notchOriginalHeight = 15;
    const notchDestWidth = size / 6;
    const notchDestHeight =
        (notchDestWidth / notchOriginalWidth) * notchOriginalHeight;
    const notchResizeTransform = fitbox(
        "contain",
        rect(0, 0, notchOriginalWidth, notchOriginalHeight),
        rect(0, 0, notchDestWidth, notchDestHeight),
    );
    const notchesOpacity = useSharedValue(0);
    const notchesSlider = useSharedValue(0);

    useAnimatedReaction(
        () => {
            return currentView.value;
        },
        (current, previous) => {
            if (previous === 0) {
                cancelAnimation(breaker);
            }
            if (previous === 1) {
                breaker.value = 0;
                opacity.value = 0;
            }
            if (current === 0) {
                breaker.value = withDelay(
                    1000,
                    withRepeat(
                        withSequence(
                            withTiming(0.05, {
                                duration: 300,
                                easing: Easing.in(Easing.bounce),
                            }),
                            withTiming(0, {
                                duration: 300,
                                easing: Easing.in(Easing.bounce),
                            }),
                            withTiming(0, { duration: 1100 }),
                        ),
                        -1,
                        true,
                    ),
                );
                //breaker.value = withTiming(0);
                opacity.value = withTiming(1);
                notchesOpacity.value = 0;
                notchesSlider.value = 0;
            } else if (current === 1) {
                breaker.value = withTiming(1, {
                    duration: 1000,
                    easing: Easing.in(Easing.bezierFn(0.25, 0.11, 0.9, -0.44)),
                });
                opacity.value = withTiming(0, {
                    duration: 1050,
                    easing: Easing.circle,
                });
                if (previous === 0) {
                    notchesOpacity.value = withSequence(
                        withDelay(500, withTiming(1)),
                        withTiming(0, { duration: 500 }),
                    );
                    notchesSlider.value = withDelay(
                        500,
                        withTiming(1, { duration: 500 }),
                    );
                }
            }
        },
    );

    const animatedTransformL = useDerivedValue(() => {
        return [
            {
                rotate: -0.42 + breaker.value / 2,
            },
            {
                skewX: 0.5 * breaker.value,
            },
            {
                skewY: -0.2 * breaker.value,
            },
        ];
    });
    const animatedTransformR = useDerivedValue(() => {
        return [
            {
                rotate: 0.4 - breaker.value / 2,
            },
            {
                translateX: size - size / 7 + (breaker.value * size) / 3,
            },
            {
                translateY: -(size - size / 6.4) + breaker.value * size * 1.3,
            },
        ];
    });

    const animatedTransformNotches = useDerivedValue(() => {
        return [
            { translateX: sceneWidth / 2 + 12 },
            {
                translateY:
                    sceneHeight / 5 + (sceneHeight / 5) * notchesSlider.value,
            },
        ];
    });

    return (
        <Group>
            <Group
                transform={[{ translateX: (sceneWidth - size * 2) / 2 }]}
                opacity={opacity}
            >
                <Group transform={animatedTransformL}>
                    <Group transform={chainResizeTransform}>
                        <Path
                            path="M84.2061 54.2873C85.1646 51.5898 84.1586 49.4161 81.4496 48.2667C80.1386 47.7116 78.8118 47.1838 77.291 46.5583C84.2814 43.6183 85.5131 40.4633 81.9565 34.3997C82.8239 34.6421 83.3942 34.7555 83.9328 34.9549C86.8953 36.0574 89.8301 37.2341 92.8124 38.2858C95.7155 39.3061 97.7037 38.4304 98.9117 35.682C99.4622 34.4271 99.9691 33.1487 100.405 31.8546C101.284 29.2392 100.421 27.1281 97.87 26.1038C94.0243 24.5556 90.1747 22.9644 86.2141 21.7486C80.6456 20.0362 75.6711 21.3537 71.5046 25.4235C70.3402 26.5573 69.3699 28.4847 68.0629 28.7192C66.6173 28.9812 64.8905 27.7262 63.2825 27.132C63.1597 27.0851 63.0369 27.0342 62.9102 26.999C61.8527 26.7215 61.5121 26.1741 61.6785 25.0052C62.7795 17.1823 59.3219 11.4627 51.8286 8.58142C45.8045 6.26699 39.7766 3.95257 33.7288 1.7007C26.4176 -1.0164 19.9461 1.01263 15.6211 7.40857C14.9003 8.47195 14.2666 8.56187 13.1854 8.11619C11.7279 7.51412 10.2427 6.92379 8.71391 6.56021C5.79894 5.86432 2.89189 7.23264 1.53738 9.76208C0.0600924 12.5183 0.341292 15.6654 2.71367 17.5693C4.25036 18.8008 6.2346 19.5436 8.10399 20.2982C9.39513 20.8181 9.89812 21.3029 9.64861 22.8472C8.5951 29.4073 11.5259 35.3966 17.5658 37.9769C24.7621 41.0537 32.1129 43.8294 39.5429 46.2963C44.9174 48.079 49.8166 46.4918 53.8564 42.5432C55.0168 41.4094 55.9832 39.486 57.2862 39.2475C58.7318 38.9856 60.4269 40.3539 62.0745 40.8074C63.6627 41.2453 63.8607 42.0936 63.5914 43.544C62.9617 46.9414 63.7221 50.0963 65.4846 53.091C68.2966 57.8645 73.0888 59.5221 78.0039 60.8983C79.8456 61.4143 81.7941 60.1281 82.6259 58.2906C83.216 56.9849 83.7229 55.6361 84.2022 54.2834L84.2061 54.2873ZM29.3524 21.5336C30.4257 18.879 29.5821 16.5724 27.8434 13.7732C30.0098 14.5473 31.6455 15.0829 33.2456 15.7123L43.6698 19.6179C45.0402 20.2083 46.4343 20.7517 47.8522 21.514C45.1115 22.1474 42.9094 23.3789 41.8955 26.0099C40.8697 28.6684 41.3608 31.1118 43.4203 33.2425C36.7547 30.6583 30.2475 28.1367 23.9462 25.6894C25.9305 25.0287 28.2949 24.1529 29.3563 21.5258L29.3524 21.5336Z"
                            color="black"
                        />
                        <Path
                            path="M84.168 54.1996C85.1265 51.502 84.1205 49.3283 81.4115 48.1789C80.1005 47.6238 78.7738 47.096 77.2529 46.4705C84.2433 43.5305 85.475 40.3756 81.9184 34.312C82.7858 34.5543 83.3561 34.6677 83.8948 34.8671C86.8573 35.9696 89.792 37.1463 92.7743 38.198C95.6774 39.2184 97.6656 38.3426 98.8736 35.5943C99.4241 34.3393 99.9311 33.0609 100.367 31.7669C101.246 29.1514 100.383 27.0403 97.832 26.016C93.9863 24.4678 90.1366 22.8767 86.176 21.6608C80.6075 19.9485 75.633 21.266 71.4665 25.3357C70.3021 26.4695 69.3318 28.3969 68.0248 28.6315C66.5792 28.8934 64.8524 27.6384 63.2444 27.0442C63.1216 26.9973 62.9989 26.9465 62.8721 26.9113C61.8146 26.6337 61.474 26.0864 61.6404 24.9174C62.7414 17.0945 59.2839 11.3749 51.7905 8.49364C45.7665 6.17922 39.7385 3.8648 33.6907 1.61684C26.3795 -1.10026 19.908 0.92877 15.583 7.3247C14.8622 8.38809 14.2285 8.47801 13.1473 8.03232C11.6898 7.43026 10.2046 6.83993 8.67583 6.47634C5.76086 5.78045 2.85381 7.14878 1.49929 9.67822C0.0220064 12.4344 0.303206 15.5816 2.67558 17.4855C4.21228 18.717 6.19652 19.4598 8.0659 20.2143C9.35704 20.7343 9.86003 21.219 9.61052 22.7633C8.55701 29.3234 11.4878 35.3128 17.5277 37.893C24.724 40.9698 32.0748 43.7456 39.5048 46.2125C44.8793 47.9952 49.7785 46.4079 53.8183 42.4593C54.9787 41.3256 55.9451 39.4021 57.2481 39.1636C58.6937 38.9017 60.3888 40.27 62.0364 40.7235C63.6246 41.1614 63.8227 42.0097 63.5533 43.4602C62.9236 46.8575 63.684 50.0125 65.4465 53.0072C68.2585 57.7807 73.0508 59.4383 77.9658 60.8144C79.8075 61.3305 81.7561 60.0443 82.5878 58.2068C83.1779 56.901 83.6849 55.5522 84.1641 54.1996H84.168ZM83.8552 25.4491C88.0494 26.7275 92.006 28.7605 96.3547 30.5823C95.9388 31.5245 95.3408 32.8772 94.5487 34.6755C91.4198 33.3971 88.3147 32.1578 85.2374 30.8599C82.5601 29.73 80.053 29.429 77.7995 31.7669C77.5341 32.0444 76.8766 33.1196 76.8766 33.1196L72.7141 31.3368C75.1182 26.5047 79.6411 24.1629 83.8552 25.4491ZM30.8708 5.16275C37.9444 7.66092 44.9664 10.3272 51.9014 13.1733C56.3926 15.0147 58.9987 20.9297 57.5729 25.1168L52.8638 23.1503C52.8638 23.1503 52.8281 21.5357 52.5826 20.7773C52.2024 19.5849 51.2122 18.3378 50.1468 17.6653C48.6181 16.7075 40.2613 13.8066 40.2613 13.8066L36.5502 12.3445C34.9462 11.7463 31.552 10.3937 29.9401 9.81896C28.0905 9.15826 26.0666 9.08789 24.7399 10.507L23.4804 12.7276L18.7317 10.6986C21.009 5.84691 26.2132 3.52468 30.8629 5.16666L30.8708 5.16275ZM29.3143 21.4458C30.3876 18.7913 29.544 16.4847 27.8053 13.6855C29.9718 14.4595 31.6075 14.9951 33.2075 15.6246L43.6317 19.5301C45.0021 20.1205 46.3962 20.6639 47.8141 21.4263C45.0734 22.0596 42.8713 23.2911 41.8574 25.9222C40.8316 28.5806 41.3227 31.0241 43.3822 33.1547C36.7166 30.5706 30.2094 28.0489 23.9081 25.6016C25.8924 24.9409 28.2568 24.0652 29.3183 21.438L29.3143 21.4458ZM6.79456 15.2493C5.32123 14.6863 4.46971 13.6737 5.09548 12.0513C5.71729 10.4445 7.01635 10.206 8.50948 10.769C13.5552 12.6768 18.6248 14.5416 23.6032 16.6058C24.4349 16.9499 24.9735 17.4464 25.2468 18.3847C25.33 18.6661 25.2706 19.7334 24.9854 20.14C24.5181 20.8046 23.726 21.18 22.9101 21.1096C22.4863 21.0744 22.1061 21.0236 21.7536 20.8946C16.7514 19.0493 11.773 17.1571 6.79456 15.2493ZM40.7524 42.2169C33.5481 39.7266 26.4072 37.0212 19.3693 34.1008C14.882 32.2399 12.7354 27.1224 14.284 22.1026L18.5337 23.5921C18.5337 23.5921 18.3871 24.8471 18.4386 25.3944C18.6564 27.7323 19.8961 29.2922 22.015 30.1132C28.4509 32.6035 34.8749 35.1369 41.4059 37.3731C42.8238 37.8579 44.8872 37.6467 46.2378 36.9587C46.9982 36.5716 47.9408 35.4574 47.9408 35.4574L52.4321 37.1463C50.329 41.6423 45.2674 43.7768 40.7564 42.2169H40.7524ZM62.3097 36.3332C57.5174 34.5113 52.7172 32.7169 47.9408 30.8599C47.3982 30.6488 46.9031 30.3164 46.3368 29.9411C45.8179 29.5971 45.5724 28.9677 45.7189 28.3695C45.8813 27.7088 46.0279 27.1185 46.4041 26.7823C46.9665 26.2818 48.1111 26.0199 48.8636 26.2037C50.5152 26.5985 52.0796 27.3413 53.6757 27.9473C61.5414 30.9302 69.415 33.8858 77.2529 36.943C78.1361 37.2871 79.0629 38.0612 79.4708 38.8782C79.7401 39.4217 79.356 40.7783 78.8411 41.0871C78.0688 41.5523 76.8014 41.7713 75.9657 41.4781C71.3794 39.8673 66.8604 38.0651 62.3137 36.3371L62.3097 36.3332ZM74.837 55.3372C69.6764 53.2183 67.0307 49.1211 67.7 44.2655C67.7436 43.9567 67.8703 43.6635 68.0327 43.0927C69.6011 43.6713 71.0705 44.1287 72.4567 44.8324C72.2547 48.5191 74.3459 50.1689 77.3282 51.1306C78.2549 51.4277 79.1421 51.8539 80.1481 52.2644C79.5936 54.7312 78.8807 56.8424 78.8807 56.8424C78.8807 56.8424 76.8885 56.1778 74.833 55.3372H74.837Z"
                            color={palette.midGrey}
                        />
                    </Group>
                </Group>
                <Group transform={animatedTransformR}>
                    <Group transform={chainResizeTransform}>
                        <Path
                            path="M88.8692 17.7283C92.497 15.8087 93.7565 12.2785 92.0653 8.85375C90.3544 5.38994 86.8532 4.22491 83.0194 5.87081C81.9897 6.31258 80.9599 6.76999 80.0015 7.33687C78.8212 8.03667 78.1123 7.85683 77.2212 6.73481C72.9675 1.39053 66.3772 -0.493851 60.2383 2.23889C53.2638 5.33912 46.3605 8.64655 39.6434 12.255C34.6095 14.9604 32.3164 19.5658 32.5104 25.2697C32.5659 26.8883 33.3857 28.9407 32.6609 30.0002C31.7936 31.2708 29.6073 31.6227 28.0706 32.5023C26.8508 33.2021 26.13 32.9832 25.3022 31.8611C23.2031 29.0111 20.3119 27.3457 16.8147 26.5716C11.4363 25.3792 6.98066 27.5881 2.67949 30.227C0.992294 31.2591 0.59228 33.2568 1.34479 35.1099C1.83589 36.318 2.46166 37.4713 3.04782 38.6363C4.75086 42.0258 6.79055 42.6904 10.3036 41.0484C11.3412 40.5637 12.4027 40.1297 13.6978 39.5667C10.8066 46.1738 12.2205 49.0316 19.4208 51.2718C18.5297 51.7722 17.8247 52.214 17.0801 52.5775C13.2938 54.4267 9.49958 56.2525 5.70536 58.086C-0.694898 61.1823 -1.05135 62.2614 2.21611 68.583C3.98252 71.9999 5.95092 72.6724 9.49166 70.9795C14.3592 68.6495 19.2148 66.2881 24.0665 63.919C31.6193 60.2284 34.4075 54.63 32.6887 46.4748C32.4669 45.4271 32.7322 44.9228 33.6471 44.4849C35.5997 43.5544 37.5483 42.6083 39.4969 41.6661C41.1959 45.3606 46.3447 47.632 47.2595 48.0113C47.2912 48.023 47.3229 48.0386 47.3546 48.0504C47.3863 48.0621 47.4061 48.0699 47.4061 48.0699C47.6358 48.1559 47.8734 48.2302 48.1269 48.2967C51.8855 49.2701 55.4421 48.7228 58.8838 47.0534C64.686 44.2347 70.5041 41.4472 76.2984 38.6128C83.5462 35.0708 86.3621 29.234 84.5918 21.372C84.366 20.3633 84.5126 19.7847 85.5027 19.3664C86.6552 18.8816 87.7721 18.3147 88.8771 17.7322L88.8692 17.7283ZM46.6021 23.874C46.5031 23.6707 46.4001 23.4714 46.3011 23.2681C52.5627 20.3438 58.8204 17.4195 65.6167 14.2449C64.5038 17.1341 63.5256 19.4759 64.8325 21.9897C66.1474 24.5191 68.4169 25.4691 71.0942 25.8327C71.209 26.1103 71.3239 26.3878 71.4388 26.6654C65.09 29.5897 58.7412 32.5179 52.0914 35.583C54.8163 28.37 53.3905 25.5278 46.6021 23.874Z"
                            color="black"
                        />
                        <Path
                            path="M88.7745 17.6966C92.4023 15.777 93.6618 12.2467 91.9706 8.82201C90.2597 5.3582 86.7585 4.19317 82.9247 5.83907C81.895 6.28084 80.8652 6.73825 79.9068 7.30513C78.7265 8.00493 78.0176 7.82509 77.1264 6.70307C72.8728 1.35879 66.2824 -0.525589 60.1436 2.20715C53.169 5.30738 46.2658 8.61481 39.5487 12.2233C34.5148 14.9286 32.2216 19.534 32.4157 25.238C32.4712 26.8565 33.291 28.909 32.5662 29.9685C31.6988 31.2391 29.5126 31.5909 27.9759 32.4706C26.7561 33.1704 26.0352 32.9514 25.2075 31.8294C23.1084 28.9794 20.2172 27.3139 16.72 26.5398C11.3416 25.3475 6.88594 27.5563 2.58478 30.1952C0.89758 31.2273 0.497565 33.2251 1.25007 35.0782C1.74118 36.2862 2.36694 37.4395 2.95311 38.6046C4.65615 41.9941 6.69584 42.6587 10.2089 41.0167C11.2465 40.5319 12.308 40.098 13.6031 39.535C10.7118 46.1421 12.1258 48.9999 19.3261 51.24C18.4349 51.7405 17.7299 52.1822 16.9854 52.5458C13.1991 54.395 9.40089 56.2207 5.61064 58.0543C-0.789625 61.1506 -1.14607 62.2296 2.12139 68.5513C3.8878 71.9682 5.8562 72.6406 9.39694 70.9478C14.2645 68.6178 19.1201 66.2564 23.9718 63.8873C31.5246 60.1967 34.3128 54.5983 32.5939 46.4431C32.3721 45.3953 32.6375 44.891 33.5524 44.4532C35.5049 43.5227 37.4535 42.5766 39.4021 41.6344C41.1012 45.3289 46.2499 47.6003 47.1648 47.9795C47.1965 47.9912 47.2282 48.0069 47.2599 48.0186C47.2916 48.0303 47.3114 48.0382 47.3114 48.0382C47.5411 48.1242 47.7787 48.1985 48.0322 48.2649C51.7908 49.2384 55.3473 48.691 58.7851 47.0217C64.5873 44.2029 70.4054 41.4155 76.1997 38.5811C83.4475 35.0391 86.2635 29.2022 84.4931 21.3402C84.2673 20.3316 84.4139 19.753 85.404 19.3346C86.5565 18.8499 87.6734 18.283 88.7784 17.7005L88.7745 17.6966ZM42.4676 15.3235C48.5906 12.2858 54.7414 9.30679 60.9278 6.39422C65.0705 4.44338 68.9954 4.94379 72.5124 7.90328C73.1342 8.42716 73.6095 9.12696 74.7343 10.4171L70.243 12.5947L69.035 11.1912C67.2013 9.82284 65.2646 9.68992 63.2724 10.6438C56.991 13.6542 50.6739 16.6058 44.5112 19.8429C43.1845 20.5427 41.7428 22.2785 41.6121 23.6546C41.4299 25.6055 40.618 26.3874 39.0457 26.9582C38.5031 27.1575 37.9803 27.4156 37.3149 27.7049C35.7584 22.3371 37.6951 17.6888 42.4636 15.3235H42.4676ZM46.5074 23.8423C46.4084 23.639 46.3054 23.4396 46.2064 23.2363C52.468 20.312 58.7257 17.3877 65.522 14.2132C64.4091 17.1023 63.4308 19.4441 64.7378 21.9579C66.0527 24.4874 68.3221 25.4374 70.9995 25.801C71.1143 26.0785 71.2292 26.3561 71.344 26.6337C64.9953 29.558 58.6465 32.4862 51.9967 35.5512C54.7216 28.3382 53.2958 25.496 46.5074 23.8423ZM16.1893 35.8796C14.8269 35.3245 13.005 35.4965 11.4842 35.8014C10.0544 36.0829 8.75137 36.9704 7.23843 37.6585C6.54534 36.2432 5.92353 34.9765 5.30964 33.7294C11.8406 28.6783 18.8112 29.7925 22.1064 34.8905L17.8012 36.9313C17.8012 36.9313 17.223 36.3058 16.1853 35.8835L16.1893 35.8796ZM24.4906 58.7111C18.6607 61.8465 12.4981 64.372 6.31166 67.2338C5.76907 66.0883 5.1631 64.8099 4.2799 62.9529C5.57896 62.4642 6.90178 62.0693 8.13748 61.4907C12.2446 59.5516 16.316 57.5421 20.4073 55.5678C22.641 54.4888 24.051 52.925 24.1342 50.3018C24.1461 49.9382 23.9282 49.3518 23.9282 49.3518L28.1027 47.3501C30.1265 51.3769 28.6056 56.4983 24.4906 58.7111ZM20.5538 46.0521C19.7696 46.4275 18.8587 46.5486 18.4032 46.6777C16.3358 45.9192 15.8249 43.8433 17.021 42.6626C17.3854 42.3029 17.8686 42.041 18.3359 41.8142C27.1521 37.5255 35.9644 33.2329 44.8083 28.9911C45.5964 28.6119 46.6024 28.3226 47.4302 28.4555C49.1808 28.7331 49.7946 31.0553 48.5154 32.2946C48.056 32.7364 47.446 33.0531 46.8638 33.3385C38.1031 37.592 29.3384 41.8377 20.5578 46.0521H20.5538ZM75.0788 34.3862C69.0905 37.4082 63.0071 40.2544 56.9949 43.2334C54.3968 44.5235 51.7314 44.8754 48.9392 44.1248C45.5489 42.991 43.8578 41.1457 43.0498 39.8751C44.1548 39.3513 45.2638 38.8313 46.3727 38.3192C46.9153 38.069 47.9371 38.2214 48.4322 38.5889C50.4323 40.0823 52.4561 40.0081 54.5592 38.9955C60.6109 36.0947 66.6587 33.1821 72.6906 30.2461C74.8887 29.1788 76.1086 27.4859 76.0254 24.9565L75.768 23.8892L80.1404 21.7507C82.3544 26.704 79.9622 31.9193 75.0788 34.3823V34.3862ZM72.1243 21.0275C71.5262 21.3089 70.6549 21.8836 69.8153 21.395C69.8153 21.395 68.6707 19.9523 68.5281 19.3933C68.132 17.8256 69.2291 17.3134 69.9776 16.9069C73.3204 15.085 76.7938 13.4978 80.2196 11.8284C81.6969 11.1091 83.1663 10.3702 84.6555 9.67819C86.109 9.00576 87.4041 9.16214 88.1526 10.7103C88.8576 12.1685 88.22 13.2671 86.8655 13.9278C81.9662 16.3282 77.0512 18.7013 72.1163 21.0275H72.1243Z"
                            color={palette.midGrey}
                        />
                    </Group>
                </Group>
            </Group>
            <Group
                opacity={notchesOpacity}
                transform={animatedTransformNotches}
            >
                <Group transform={notchResizeTransform}>
                    <Path
                        path="M12.4747 1.66677C12.1262 1.35792 11.6945 1.1429 11.1994 0.896597C10.7558 0.673756 10.2211 0.724578 9.82905 1.02952C9.36566 1.38919 8.92603 1.72932 8.85871 2.132C8.73197 2.88653 8.99337 4.00074 9.52804 4.5207C12.1935 7.12051 15.0015 9.57567 17.7581 12.0856C18.8116 13.0434 19.9641 13.4031 21.0453 12.2654C22.1424 11.1121 21.6473 9.98617 20.6176 9.04398C17.9205 6.56927 15.2194 4.09847 12.4787 1.66677H12.4747Z"
                        color={palette.midGrey}
                    />
                    <Path
                        path="M5.20379 6.54955C4.95824 6.2407 3.39778 6.14687 2.99381 6.53782C2.49082 7.0226 2.06307 8.16418 2.30863 8.71932C3.09282 10.4903 4.09089 12.2027 5.25133 13.7626C5.60778 14.2395 6.82763 14.4115 7.51281 14.2239C7.87322 14.1262 8.15838 13.7548 8.49106 13.2895C8.90692 12.707 8.9188 11.929 8.52274 11.3309C7.35834 9.57942 6.43553 8.11335 5.20776 6.55347L5.20379 6.54955Z"
                        color={palette.midGrey}
                    />
                    <Group transform={[{ translateX: -size / 3 }]}>
                        <Path
                            path="M12.0596 4.42576C13.0933 3.48748 13.6082 2.43974 12.5071 1.22388C11.3902 -0.0115159 10.2654 0.414618 9.2357 1.34508C6.50292 3.80415 3.77805 6.26713 1.10071 8.78094C0.807629 9.0546 0.589803 9.41037 0.35613 9.82477C0.039285 10.3838 0.0828506 11.0758 0.467025 11.5919C0.760106 11.9828 1.04526 12.319 1.37795 12.3777C2.15818 12.5145 3.25921 12.2838 3.8533 11.7834C6.65737 9.41036 9.34263 6.89656 12.0596 4.42576Z"
                            color={palette.midGrey}
                        />
                        <Path
                            path="M16.3722 13.5232C17.6198 11.889 18.7327 10.0789 19.4932 8.17499C19.913 7.12724 19.311 6.31406 18.0317 5.89966C17.5644 5.74719 17.0495 5.82147 16.6376 6.09122C16.2613 6.33752 15.8415 6.63464 15.5682 7.0295C14.6534 8.36655 13.7503 9.76615 13.2038 11.2713C12.9543 11.9633 13.2909 13.3238 13.8414 13.7069C14.4038 14.0979 16.0079 13.9962 16.3683 13.5271L16.3722 13.5232Z"
                            color={palette.midGrey}
                        />
                    </Group>
                </Group>
            </Group>
        </Group>
    );
}
